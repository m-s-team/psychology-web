<div class="mat-app-background fill" fxLayout="column">
  <div class="toolbar" fxLayout fxLayoutAlign="space-around center">
    <mat-form-field appearance="standard">
      <mat-label>ูุณุช ุขุฒูููโูุง</mat-label>
      <mat-select #testSelect [value]="selectedTest$ | async" (selectionChange)="onTestChange(testSelect.value)">
        <mat-option *ngFor="let test of tests$ | async; index as i" [value]="i+1">{{ test.createdDate | date:'full' }}</mat-option>
      </mat-select>
    </mat-form-field>
    <button mat-icon-button color="primary" aria-label="ุณุงุฎุช ฺฉ ุขุฒููู ุฌูุฒ ุจุฑุช ุฌุฏุฏ" (click)="onCreateTest()">
      <mat-icon>add</mat-icon>
    </button>
    <button mat-icon-button color="warn" aria-label="ุญุฐู ุขุฒููู ุงูุชุฎุงุจ ุดุฏู">
      <mat-icon>delete</mat-icon>
    </button>
  </div>
  <ng-container *ngIf="tests$ | async as tests">
    <div class="test-group" fxLayout="column" *ngIf="selectedTest$ | async as index">
      <div fxLayout="column" fxLayout.gt-xs="row" fxLayoutAlign="center center">
        <button
          mat-flat-button
          matBadge="๐ธ"
          matBadgePosition="before"
          matBadgeColor="primary"
          [matBadgeHidden]="tests[index - 1].visualReasoningSubtest.completedDate == null"
          routerLink="/md/visual-reasoning">
          ุงุณุชุฏูุงู ุชุตูุฑ
        </button>
        <button
          mat-flat-button
          matBadge="๐ธ"
          matBadgePosition="before"
          matBadgeColor="primary"
          [matBadgeHidden]="tests[index - 1].numericalReasoningSubtest.completedDate == null"
          routerLink="/md/numerical-reasoning">
          ุงุณุชุฏูุงู ุฑุงุถ
        </button>
        <button
          mat-flat-button
          matBadge="๐ธ"
          matBadgePosition="before"
          matBadgeColor="primary"
          [matBadgeHidden]="tests[index - 1].verbalAnalysisSubtest.completedDate == null"
          routerLink="/md/verbal-analysis">
          ุชุญูู ฺฉูุงู
        </button>
      </div>
      <div fxLayout="column" fxLayout.gt-xs="row" fxLayoutAlign="center center">
        <button
          mat-flat-button
          matBadge="๐ธ"
          matBadgePosition="before"
          matBadgeColor="primary"
          [matBadgeHidden]="tests[index - 1].sequentialReasoningSubtest.completedDate == null"
          routerLink="/md/sequential-reasoning">
          ุงุณุชุฏูุงู ุชูุงู
        </button>
        <button
          mat-flat-button
          matBadge="๐ธ"
          matBadgePosition="before"
          matBadgeColor="primary"
          [matBadgeHidden]="tests[index - 1].spatialRecognitionSubtest.completedDate == null"
          routerLink="/md/spatial-recognition">
          ุชุดุฎุต ูุถุง
        </button>
        <button
          mat-flat-button
          matBadge="๐ธ"
          matBadgePosition="before"
          matBadgeColor="primary"
          [matBadgeHidden]="tests[index - 1].threeDSubtest.completedDate == null"
          routerLink="/md/three-d">
          ุณู ุจุนุฏ
        </button>
      </div>
      <div fxLayout="column" fxLayout.gt-xs="row" fxLayoutAlign="center center">
        <button
          mat-flat-button
          matBadge="๐ธ"
          matBadgePosition="before"
          matBadgeColor="primary"
          routerLink="/md/systems">
          ุฏูุช (ุณุณุชู)
        </button>
        <button
          mat-flat-button
          matBadge="๐ธ"
          matBadgePosition="before"
          matBadgeColor="primary"
          routerLink="/md/vocabulary">
          ูุงฺู ุณูุฌ
        </button>
        <button
          mat-flat-button
          matBadge="๐ธ"
          matBadgePosition="before"
          matBadgeColor="primary"
          routerLink="/md/figurework">
          ฺฉุงุฑ ุจุง ุงุฑูุงู
        </button>
      </div>
    </div>
  </ng-container>
</div>
